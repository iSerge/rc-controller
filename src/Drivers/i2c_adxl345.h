#ifndef __I2C_ADXL345_H__
#define __I2C_ADXL345_H__

#include "rpi_i2c.h"

#define ADXL345_ADDR 0x53

#define ADXL345_DEV_ID 0x00
#define ADXL345_THRESH_TAP 0x1D
#define ADXL345_OFSX 0x1E
#define ADXL345_OFSY 0x1F
#define ADXL345_OFSZ 0x20
#define ADXL345_DUR 0x21
#define ADXL345_LATENT 0x22
#define ADXL345_WINDOW 0x23
#define ADXL345_THRESH_ACT 0x24
#define ADXL345_THRESH_INACT 0x25
#define ADXL345_TIME_INACT 0x26
#define ADXL345_ACT_INACT_CTL 0x27
#define ADXL345_THRESH_FF 0x28
#define ADXL345_TIME_FF 0x29
#define ADXL345_TAP_AXES 0x2A
#define ADXL345_ACT_TAP_STATUS 0x2B
#define ADXL345_BW_RATE 0x2C
#define ADXL345_POWER_CTL 0x2D
#define ADXL345_INT_ENABLE 0x2E
#define ADXL345_INT_MAP 0x2F
#define ADXL345_INT_SOURCE 0x30
#define ADXL345_DATA_FORMAT 0x31

#define ADXL345_DATAX0 0x32
#define ADXL345_DATAX1 0x33
#define ADXL345_DATAY0 0x34
#define ADXL345_DATAY1 0x35
#define ADXL345_DATAZ0 0x36
#define ADXL345_DATAZ1 0x37

#define ADXL345_FIFO_CTL 0x37
#define ADXL345_FIFO_STATUS 0x37

#define ADXL345_INT_OVERRUN 1
#define ADXL345_INT_WATERMARK 2
#define ADXL345_INT_FREE_FALL 4
#define ADXL345_INT_INACT 8
#define ADXL345_INT_ACT 16
#define ADXL345_INT_DOUBLE_TAP 32
#define ADXL345_INT_SINGE_TAP 64
#define ADXL345_INT_DATA_READY 128

#define ADXL345_RANGE_2G 0
#define ADXL345_RANGE_4G 1
#define ADXL345_RANGE_8G 2
#define ADXL345_RANGE_16G 3
#define ADXL345_JUSTIFY 4
#define ADXL345_FULL_RES 8
#define ADXL345_INT_INVERT 32
#define ADXL345_SPI 64
#define ADXL345_SELF_TEST 128

#define ADXL345_FIFO_TRIGER 32
#define ADXL345_FIFO_MODE_BYPASS 0
#define ADXL345_FIFO_MODE_FIFO 64
#define ADXL345_FIFO_MODE_STREAM 128
#define ADXL345_FIFO_MODE_TRIGGER 192

#define ADXL345_SLEEP_FREQ_8HZ 0
#define ADXL345_SLEEP_FREQ_4HZ 1
#define ADXL345_SLEEP_FREQ_2HZ 2
#define ADXL345_SLEEP_FREQ_1HZ 3
#define ADXL345_SLEEP 4
#define ADXL345_MEASURE 8
#define ADXL345_AUTO_SLEEP 16
#define ADXL345_LINK 32

#define ADXL345_DR_3200_Hz 15
#define ADXL345_DR_1600_Hz 14
#define ADXL345_DR_800_Hz  13
#define ADXL345_DR_400_Hz  12
#define ADXL345_DR_200_Hz  11
#define ADXL345_DR_100_Hz  10
#define ADXL345_DR_50_Hz    9 
#define ADXL345_DR_25_Hz    8 
#define ADXL345_DR_12_5_Hz  7
#define ADXL345_DR_6_25_Hz  6
#define ADXL345_DR_3_13_Hz  5
#define ADXL345_DR_1_56_Hz  4
#define ADXL345_DR_0_78_Hz  3
#define ADXL345_DR_0_39_Hz  2
#define ADXL345_DR_0_20_Hz  1
#define ADXL345_DR_0_10_Hz  0
#define ADXL345_LOW_POWER 0x10

void adxl345_init();
I2C_Status adxl345_read_axes(int16_t data[3]);

#endif
